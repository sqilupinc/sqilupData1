{
"AWSTemplateFormatVersion" : "2010-09-09",

"Description" : "Parent Cluster"
,

"Resources" : {
  "MasterEC2Instance" : {
    "Type" : "AWS::EC2::Instance",
    "Properties" : {
	
	"Parameters": {
	
      "InstanceType" : "t2.micro",
      "SecurityGroupIds" :  "sg-648a3a13",
      "KeyName" : "ashford200",
	  "TemplateURL": "https://s3.amazonaws.com/suilk-today/EC2_Json_Master_CFT.json",
      "ImageId" : "ami-4b3cf936"	
		
					 }	
			 	     }
			 },
			 
	"WorkerEC2Instance" : {
    "Type" : "AWS::EC2::Instance",
    "Properties" : {
	
	"Parameters":{
      "InstanceType" : "t2.micro",
      "SecurityGroupIds" : "sg-648a3a13",
      "KeyName" : "ashford200",
	  "TemplateURL":"https://s3.amazonaws.com/suilk-today/EC2_Json_Worker_CFT.json",
      "ImageId" : "ami-4b3cf936"	
		
			 }
			 	    
    }
  }
}
,

"Outputs" : {
  "InstanceId1" : {
    "Description" : "InstanceId of the newly created EC2 instance",
    "Value" : { "Ref" : "MasterEC2Instance" }
  },
    "InstanceId2" : {
    "Description" : "InstanceId of the newly created EC2 instance",
    "Value" : { "Ref" : "WorkerEC2Instance" }
  },
  "AZ" : {
    "Description" : "Availability Zone of the newly created EC2 instance",
    "Value" : { "Fn::GetAtt" : [ "MasterEC2Instance", "AvailabilityZone" ] }
  },
  "PublicDNS" : {
    "Description" : "Public DNSName of the newly created EC2 instance",
    "Value" : { "Fn::GetAtt" : [ "MasterEC2Instance", "PublicDnsName" ] }
  },
  "PublicIP" : {
    "Description" : "Public IP address of the newly created EC2 instance",
    "Value" : { "Fn::GetAtt" : [ "MasterEC2Instance", "PublicIp" ] }
  }
}

}
